/*	Auto logging		970502 - Remembers last time defaults*/:CHAR defaultFile[] "AutoLog dflts"	  progName[] "AUTOLOG"	  :FLOAT logInterval 5		matchInterval 0		totalTime 10		:INT quitAfter 0	added 0	:LONG t0 0		m0 0:PTR user[] {	:PTR { logInterval "\nLog every __ secs: " }	:PTR { totalTime "Run for ___ minutes: " }	:PTR { matchInterval "Match every ___ minutes (0=none): "}}:FCT main{	progName LPSetName		progName "\f%s" PRINT		defaultFile user LPPrompts2 IF RETURN THEN		totalTime 60 * logInterval / &quitAfter =	&matchInterval 60 * DROP		LPPrep	GETMS DUP &t0 = &m0 =		&ReadingHook &HookPostComps =	quitAfter 0 LPSetProgress	totalTime 60 * 1 + LPMeasure 			&Noop &HookPostComps =}ReadingHook{	lpPaused IF RETURN THEN		GETMS :LONG now	now t0 - 1000.0 / logInterval >= IF		now &t0 =		LogOneObsNoComp		&added 1 + DROP		quitAfter added LPSetProgress	THEN		matchInterval IF		now m0 - 1000.0 / matchInterval >= IF			now &m0 =			LPMatch		THEN	THEN}